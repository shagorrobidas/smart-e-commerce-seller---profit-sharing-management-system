<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Dashboard - Smart Seller</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="dashboard-body">

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div
                style="width: 24px; height: 24px; background: linear-gradient(to top right, var(--primary), var(--accent-purple)); border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white;">
                S</div>
            <span style="font-weight: 500;">Staff Portal</span>
        </div>

        <nav class="sidebar-nav">
            <a href="dashboard.html" class="nav-item active">
                <iconify-icon icon="solar:widget-linear"></iconify-icon> Operations
            </a>
            <a href="inventory.html" class="nav-item">
                <iconify-icon icon="solar:box-minimalistic-linear"></iconify-icon> Inventory
            </a>
            <a href="reports.html" class="nav-item">
                <iconify-icon icon="solar:file-text-linear"></iconify-icon> My Reports
            </a>
            <a href="#" class="nav-item" onclick="alert('No new notifications');">
                <iconify-icon icon="solar:bell-linear"></iconify-icon> Notifications <span
                    style="background: var(--primary); color: white; border-radius: 50%; padding: 2px 6px; font-size: 10px; margin-left: auto;">2</span>
            </a>
        </nav>

        <div class="user-profile">
            <a href="../../pages/profile.html"
                style="display: flex; gap: 0.75rem; text-decoration: none; align-items: center; flex: 1;">
                <div class="avatar" style="background: var(--accent-purple);">S</div>
                <div>
                    <p class="text-sm text-white" id="user-name">Staff</p>
                    <p class="text-xs text-muted" id="user-role">Operations</p>
                </div>
            </a>
            <button onclick="App.logout()"
                style="margin-left: auto; background: none; border: none; color: var(--text-muted); cursor: pointer;">
                <iconify-icon icon="solar:logout-linear"></iconify-icon>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <header class="top-bar">
            <h1 class="page-title">Daily Operations</h1>
        </header>

        <!-- Stats Overview for Staff -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="stat-card">
                <span class="stat-label">Sales Recorded Today</span>
                <span class="stat-value">$3,450</span>
            </div>
            <div class="stat-card">
                <span class="stat-label">New Orders</span>
                <span class="stat-value">12</span>
            </div>
            <!-- Gamification: Monthly Goal -->
            <div class="stat-card" style="position: relative; overflow: hidden;">
                <span class="stat-label">Monthly Goal ($50k)</span>
                <div class="flex items-end justify-between">
                    <span class="stat-value" style="font-size: 1.5rem;">$32,450</span>
                    <span style="font-size: 0.75rem; color: var(--secondary);">65%</span>
                </div>
                <!-- Progress Bar -->
                <div
                    style="width: 100%; height: 6px; background: var(--glass-border); border-radius: 99px; margin-top: 0.5rem;">
                    <div style="width: 65%; height: 100%; background: var(--secondary); border-radius: 99px;"></div>
                </div>
            </div>
        </div>

        <!-- Analytics Chart -->
        <div class="dashboard-form-card mb-8">
            <h3 style="margin-bottom: 1rem;">My Performance Trend</h3>
            <div style="position: relative; height: 250px; width: 100%;">
                <canvas id="staffChart"></canvas>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- New Sale Form -->
            <div class="dashboard-form-card">
                <h3 style="margin-bottom: 1rem;">Record New Sale</h3>
                <form
                    onsubmit="event.preventDefault(); Dashboard.addRecord({ amount: Number(this.amount.value), type: 'sale', platform: this.platform.value, product: this.product.value, attachment: this.attachment.files[0] ? this.attachment.files[0].name : null });">
                    <div style="margin-bottom: 1rem;">
                        <label>Product Name</label>
                        <input type="text" name="product" placeholder="e.g. Wireless Mouse" required>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                        <div>
                            <label>Amount ($)</label>
                            <input type="number" name="amount" placeholder="0.00" required>
                        </div>
                        <div>
                            <label>Platform</label>
                            <select name="platform">
                                <option value="Daraz">Daraz</option>
                                <option value="CartUp">CartUp</option>
                                <option value="Offline">Offline/Direct</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <label>Attachment (Invoice/Receipt)</label>
                        <input type="file" name="attachment" style="padding-top: 0.5rem; color: var(--text-muted);">
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Record Sale</button>
                </form>
            </div>

            <!-- Expense Entry -->
            <div class="dashboard-form-card">
                <h3 style="margin-bottom: 1rem;">Submit Expense</h3>
                <form
                    onsubmit="event.preventDefault(); Dashboard.addRecord({ amount: Number(this.amount.value), type: 'expense', category: this.category.value, description: this.description.value, attachment: this.attachment.files[0] ? this.attachment.files[0].name : null });">
                    <div style="margin-bottom: 1rem;">
                        <label>Description</label>
                        <input type="text" name="description" placeholder="e.g. Packaging Material" required>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                        <div>
                            <label>Cost ($)</label>
                            <input type="number" name="amount" placeholder="0.00" required>
                        </div>
                        <div>
                            <label>Category</label>
                            <select name="category">
                                <option value="Ops">Operations</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Logistics">Logistics</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <label>Document (Proof of Cost)</label>
                        <input type="file" name="attachment" style="padding-top: 0.5rem; color: var(--text-muted);">
                    </div>
                    <button type="submit" class="btn btn-outline" style="width: 100%;">Submit Expense</button>
                </form>
            </div>
        </div>

    </main>

    <script src="../../js/main.js"></script>
    <script src="../../js/dashboard.js"></script>
</body>

</html>